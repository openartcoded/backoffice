<ng-container>
    <div class="modal-header" *ngIf="activeModal">
        <span class="modal-title text-break">{{actionKey}}</span>
        <button type="button" class="close" aria-label="Close" (click)="activeModal?.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body"*ngIf="actionResults$ |async as actionResults" >
        <ng-container *ngIf="actionResults.content.length else noResult">
       <ul class="list-group list-group-numbered">
            <li class="list-group-item" *ngFor="let actionResult of actionResults.content">
                <div class=" d-flex justify-content-between align-items-start">
                    <span>#</span>
                    <span class="mb-1 badge text-white bg-secondary rounded-pill">{{actionResult.id}}</span>
                </div>
                <div class=" d-flex justify-content-between align-items-start">
                    <span>Status</span>
                    <span class="badge text-white rounded-pill" [class.bg-success]="actionResult.status?.toString() === 'SUCCESS'"
                        [class.bg-secondary]="actionResult.status?.toString() === 'UNKNOWN'"
                        [class.bg-danger]="actionResult.status?.toString() === 'FAILURE'">{{actionResult.status}}</span>
                </div>
                <div class=" d-flex justify-content-between align-items-start">
                    <span>Started at</span>
                    <span class="badge text-white bg-info rounded-pill">{{actionResult.startedDate | date:'dd/MM/yyyy
                        HH:mm:ss'}}</span>
                </div>
                <div class=" d-flex justify-content-between align-items-start">
                    <span>Finished at</span>
                    <span class="badge text-white bg-primary rounded-pill">{{actionResult.finishedDate | date:'dd/MM/yyyy
                        HH:mm:ss'}}</span>
                </div>
                <ng-container *ngIf="actionResult.messages?.length">
                    <div class="d-block">
                        Output
                    </div>
                    <div class="d-block bg-dark">
                        <p class="m-1 text-white" *ngFor="let message of actionResult.messages">
                            {{message}}
                        </p>
                    </div>
                </ng-container>
        
            </li>
        </ul>
        <div class="d-flex justify-content-between mt-1">
            <ngb-pagination *ngIf="actionResults?.totalPages > 1" [page]="actionResults?.pageable?.pageNumber + 1"
                [pageSize]="actionResults?.size" [maxSize]="5" [collectionSize]="actionResults?.totalElements"
                (pageChange)="load($event)">
            </ngb-pagination>
            <select *ngIf="actionResults?.content?.length" id="pageSize" class="form-control form-control-sm ml-2 col-1 "
                [(ngModel)]="pageSize" (ngModelChange)="load()">
                <option *ngFor="let op of [5,10,20,50,100]" [selected]="op === pageSize">{{op}}</option>
            </select>
        </div>

        </ng-container>
        <ng-template #noResult>No data.</ng-template>

    </div>
</ng-container>